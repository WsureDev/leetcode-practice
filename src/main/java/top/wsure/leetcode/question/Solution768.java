//è¿™ä¸ªé—®é¢˜å’Œâ€œæœ€å¤šèƒ½å®ŒæˆæŽ’åºçš„å—â€ç›¸ä¼¼ï¼Œä½†ç»™å®šæ•°ç»„ä¸­çš„å…ƒç´ å¯ä»¥é‡å¤ï¼Œè¾“å…¥æ•°ç»„æœ€å¤§é•¿åº¦ä¸º2000ï¼Œå…¶ä¸­çš„å…ƒç´ æœ€å¤§ä¸º10**8ã€‚
//
// arræ˜¯ä¸€ä¸ªå¯èƒ½åŒ…å«é‡å¤å…ƒç´ çš„æ•´æ•°æ•°ç»„ï¼Œæˆ‘ä»¬å°†è¿™ä¸ªæ•°ç»„åˆ†å‰²æˆå‡ ä¸ªâ€œå—â€ï¼Œå¹¶å°†è¿™äº›å—åˆ†åˆ«è¿›è¡ŒæŽ’åºã€‚ä¹‹åŽå†è¿žæŽ¥èµ·æ¥ï¼Œä½¿å¾—è¿žæŽ¥çš„ç»“æžœå’ŒæŒ‰å‡åºæŽ’åºåŽçš„åŽŸæ•°ç»„ç›¸åŒã€‚
//
//
// æˆ‘ä»¬æœ€å¤šèƒ½å°†æ•°ç»„åˆ†æˆå¤šå°‘å—ï¼Ÿ
//
// ç¤ºä¾‹ 1:
//
//
//è¾“å…¥: arr = [5,4,3,2,1]
//è¾“å‡º: 1
//è§£é‡Š:
//å°†æ•°ç»„åˆ†æˆ2å—æˆ–è€…æ›´å¤šå—ï¼Œéƒ½æ— æ³•å¾—åˆ°æ‰€éœ€çš„ç»“æžœã€‚
//ä¾‹å¦‚ï¼Œåˆ†æˆ [5, 4], [3, 2, 1] çš„ç»“æžœæ˜¯ [4, 5, 1, 2, 3]ï¼Œè¿™ä¸æ˜¯æœ‰åºçš„æ•°ç»„ã€‚
//
//
// ç¤ºä¾‹ 2:
//
//
//è¾“å…¥: arr = [2,1,3,4,4]
//è¾“å‡º: 4
//è§£é‡Š:
//æˆ‘ä»¬å¯ä»¥æŠŠå®ƒåˆ†æˆä¸¤å—ï¼Œä¾‹å¦‚ [2, 1], [3, 4, 4]ã€‚
//ç„¶è€Œï¼Œåˆ†æˆ [2, 1], [3], [4], [4] å¯ä»¥å¾—åˆ°æœ€å¤šçš„å—æ•°ã€‚
//
//
// æ³¨æ„:
//
//
// arrçš„é•¿åº¦åœ¨[1, 2000]ä¹‹é—´ã€‚
// arr[i]çš„å¤§å°åœ¨[0, 10**8]ä¹‹é—´ã€‚
//
//
// Related Topics æ ˆ è´ªå¿ƒ æ•°ç»„ æŽ’åº å•è°ƒæ ˆ ðŸ‘ 215 ðŸ‘Ž 0

package top.wsure.leetcode.question;

import java.util.LinkedList;

/*
    FileName:   Solution768
    Author:     wsure
    Date:       2022/8/13
    Description:Solution768
*/
public class Solution768 {
    //å•è°ƒæ ˆ æ€Žä¹ˆç”¨
    // 1ï¼Œ2ï¼Œ3ï¼Œ3ï¼Œ2ï¼Œ1 | =ã€‹ 1
    // 3ï¼Œ2ï¼Œ1ï¼Œ1ï¼Œ2 | 3 => 2
    // 3,2,1,4,2 1 | 5,4
    LinkedList<Integer> stack = new LinkedList<>();
    public int maxChunksToSorted(int[] arr) {
        for (int i:arr){
            if(!stack.isEmpty() && i < stack.peekLast()){
                int last = stack.pollLast();
                while (!stack.isEmpty() && i < stack.peekLast()){
                    stack.pollLast();
                }
                stack.add(last);
            } else {
                stack.add(i);
            }
        }
        return stack.size();
    }

}
/*
> 2022/08/15 18:58:58
Success:
	Runtime:1 ms, faster than 89.05% of Java online submissions.
	Memory Usage:41.8 MB, less than 17.42% of Java online submissions.

 */